{{ $page := .page }}
{{ $summary := .summary }}

{{- if $page.IsHome -}}

  {{ partialCached "jsonld/website.html" $page }}

{{- else if $page.IsPage -}}

  {{ if (eq $page.Type "post") | or (eq $page.Type "publication") | or (eq $page.Type "project") }}
    {{ partial "jsonld/article.html" (dict "page" $page "summary" $summary) }}
  {{ end }}

  {{- if eq .Section "post" }}
    {{ partial "jsonld/article.html" (dict "page" $page "summary" $summary) }}
  {{- else if eq .Section "shop" }}
    {{ partial "jsonld/article.html" (dict "page" $page "summary" $summary) }}
  {{- else }}
    {{ partial "jsonld/article.html" (dict "page" $page "summary" $summary) }}
  {{ end }}

{{- end }}